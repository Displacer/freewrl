# The protocol between the script processor and the rest of the browser:

# WARNING:  The protocol is work in progress and may change at any time.

# Format of a request 1 thing per line:


# Browser can send

NEWSCRIPT
__id__
type

INITIALIZE
__id__
__reqid

SENDEVENT
__id__
__reqid
fieldName
value 
timestamp

EVENTSPROCESSED
__id__
__reqid

# This is currently unused, the client has to ask for the current value.
# Note that SENDEVENT does something similar.
SETFIELD
__id__
fieldName
value (all on one line)



# Script can send

# Ask if a field is present:
GETFIELD
__id__
fieldName
fieldKind (exposedField, field, eventIn, eventOut)
# The server will immediately answer with
fieldType (SF...)

# Read value of a field
READFIELD
__id__
fieldName
# The server will immediately answer with
value

SENDEVENT
__id__
fieldName
value

FINISHED
__reqid


###############################################################

value format (regular expressions):

SFBool:     1 or 0
SFColor:    float float float
SFFloat:    float
SFImage:    <not specified yet>
SFInt32:    int
SFNode:     String "VRML::Node=(0x12345678)"
SFRotation: float float float float
SFString:   base64encoded UTF8 string (without whitespaces)
SFTime:     double
SFVec2f:    float float
SFVec3f:    float float float
MFxxx:      value,value,...,value  (where value encoded as in SFxxx)
