<TITLE>FreeWRL - README</TITLE>

<H3>README</H3>

<P>&#35; Copyright (C) 1998 Tuomas J. Lukka, 1999,John Stewart CRC Canada.
<BR>&#35; DISTRIBUTED WITH NO WARRANTY, EXPRESS OR IMPLIED.
<BR>&#35; See the GNU Library General Public License (file COPYING in the distribution)
<BR>&#35; for conditions of use and redistribution, EXCEPT on the files 
<BR>&#35; which belong under the mozilla public license.</P>

                  
<P>
See the file 
<A HREF="INSTALL.html ">./install.html</A>
for how to compile this program.

<P>This file tells general things about freewrl as well as changes
between versions.</P>
               

<P>Welcome to a developer-alpha release of VRML::Browser.
See below for what has changed since the last release.</P>

<P>For updates, see the FreeWRL homepage, currently at 
<A HREF="http://www.crc.ca/FreeWRL/">http://www.crc.ca/FreeWRL/</A></P>

<P>After installation, try:

<BR>./freewrl tests/1.wrl</P>

<P>This should open a new window with a view of the VRML world in question.</P>

<P>Use the first and third button of your mouse (while moving your mouse)
to move around.</P>

<P>To change viewers between walk and examine, press 'w' or 'e' or 'd' in 
the browser window ('d' only works with the keyboard currently).</P>

<P> E-mail any comments, questions & patches to <A HREF="mailto:John.Stewart@crc.ca">John.Stewart@crc.ca</A></P>

<P>Thanks;
<BR>Tuomas J. Lukka and John Stewart.</P>

<P><B>V0.29</B></P>

Browser.pm FPS calculation on really fast machines could give divide by zero.
ProximitySensor now works correctly for rotations about the X axis.
normals for cone
sigquit
netscape plugin
degenerate polygons in sensor nodes ok
parse error corrected in interface declarations
display lists and texture bindings
reworked documentation
PlaneSensor now works as expected with all "mouse-based" navigation modes.
fast render mode now renders in wireframe mode. (-fast option)
OrientationInterpolator now spec compliant.
SFVec3F parsing (with comma separators) now working.
compiles under RedHat 7.1
Compiles under Mandrake 7.2
compiles on an SGI
compiles on FreeBSD
               
<P><B>v0.25</B></P>

<P>- Background nodes now working (close to?) standard.

<BR>- reload url on SIGUSR1

<BR>- works with Voodoo3 cards - some OpenGL calls were not correct.

<BR>- changed from jpeg to png file format because of the transparency.

<BR>- more work on EXTERNPROTOS; should be conformant now.

<BR>- relax parsing information for most data types, to allow for commas
in places where they should not be. (started because VRealm builder 
(and possibly others) puts commas in. (eg, SFColor 0, 0, 1)

<BR>- PixelTexture node support added.</P>

<P><B>v0.24 </B></P>

<P>- replace reliance on libwww; broke images. oh well...</P>


<P><B>v0.23</B></P>

<P>- "h" key fixed.

<BR>- remove reliance on libwww (thanks, catty)

<BR>- help resolve file ownership in /tmp/ for textures (thanks, fba)

<BR>- clean up error messages.</P>


<P><B>v0.22</B></P>

<P>- "h" key toggles headlight.

<BR>- some bugs relating to new RedHat 6.1 installs.

<BR>- support for textures of all types (thanks to ImageMagick) for
simple shapes, eg, Box, Sphere, Cone, etc.

<BR>- removed support for png as it did not work, and everything
is currently handled via jpegs (which work).

<BR>- had a problem with a non-existent file when running with
a non-external sensor-input session. I added the file test,
and all was ok.

<BR>- appears that some of the lower layer perl code for file
manipulation has changed - had to change VRMLServ.pm to check
more thoroughly to get around an EAI Socket problem.

<BR>- changed the name of the sequencer code to get rid of an
overloading of the "-save" option. (now is "-seq")</P>


<P><B>v0.21</B></P>
<P>- Bug fixes, speedups, newer install.

<BR>- Polemus Fastrak external sensor input working!

<BR>- FreeWRL screen dump - etienne grossman (etienne@anonimo.isr.ist.utl.pt)</P>


<P><B>v0.20</B></P>
					
<P>- EAI code should be standard (at least, what is implemented!)

<BR>- EXTERNPROTO Support (Marijn Ros (J.M.Ros@phys.uu.nl))

<BR>- Fixed up the javascript code, and removed Tuomas' PERL script
interface

<BR>- Collision nodes at least now display even if they don't yet
detect.

<BR>- More work on the EAI code, and in random fixes in the code. EAI
code is doing pretty well, now. still some minor (and major??)
bugs, and these are getting worked on quite quickly.</P>


					<P><B>V0.19</B></P>
					
<P>- Work mainly on EAI code. See the file "START", and the directory
"eai-java", and some more perl/eai examples in directory "eai".

<BR>- documentation/build updates thanks do Ed (ed@chronos.net)

<BR>- file app.pl, for the "Applications" section in Tuomas' article "An
introduction to VRML" in LJ &#35;12/98. (Note- I have not verified
that this app.pl file works. JAS)</P>


<P><B>V0.18</B></P>
					
<P>- first version by John Stewart.   <A HREF="mailto:John.stewart@crc.ca">John.stewart@crc.ca</A>

<BR>- EAI perl script was wrong; fixed it in eai/jt1.pl
- invoke it by: perl eai/jt1.pl
- click on the cube to change the colour of the cone.

<BR>- Browser Invocation from a vrml script is broken; need to investigate
which file is missing from my install. (it is a perl script...)

<BR>- OrientationInterpolator bug found; work underway to fix it.

<BR>- fixed a run bug in blib/lib/VRML/JS.pm - the call to runscript needed
another parameter. (see my comment at line 192)</P>

<P><B>V0.17 </B></P>
					
<P> - genJS.pm portability fix - thanks to James A. Soerlie
<BR>- clear up Viewer.pm a little
XXX fix sphere to not draw twice ;)
<BR>- Eric Bohm's fix to get javascript working on alpha</P>

<P><B>V0.16</B> quick, little change -- I'm going away some weeks</P>
<P>- clarified -url option docs
<BR>- IndexedFaceSet color handling improved and speeded up a little
<BR>- More NavigationInfo from John Breen</P>

<P><B>V0.15</B> Minor but meaningful</P>
					
<P>- Fixes to freewrl manpage, extrusion and elevationgrid as well
as generic tesselation code from Bernhard Reiter
<BR>- speed up MFVec3f parsing by an order of magnitude ;)
<BR>- make freewrl ignore unknown image formats, not barf
also search the list if we find a good one.
<BR>- documented the '/' key (see the freewrl manpage)
<BR>- added code to keep track of parents in C level for future optimizations
<BR>- fixed example/vrml.wrl
<BR>- DirectionalLight scoping should now work
(see nodes/DirectionalLight.wrl)
<BR>- fixed shininess exponent
<BR>- headlight FALSE may now work (untested)
<BR>- java classpath docs from Herbert Rosmanith</P>

<P><B>V0.14</B> DOCUMENTATION!!!!!!!!!</P>
					
<P> - manual pages, at last! Halleluyah!
<BR>- more extrusion fixes from Bernhard Reiter
<BR>- Viewer&Navigationinfo fixes from John Breen
<BR>- added "-lz" into vrml.conf for PNG
<BR>- new command line interface
NOTE NOTE NOTE!!!!!!!!!!!
YOU HAVE TO CHANGE YOUR XSWALLOW SETTINGS FOR THIS RELEASE
<BR>- warn if file doesn't start with the proper header
<BR>- moved many optional behaviours from environment variables
to command-line options.
<BR>- more verbosity cleanup
<BR>- added warning for missing proper header, corrected headers of 
example files
<BR>- other, tiny things</P>

<P><B>V0.13</B> Java EAI, other tiny things. 
AS OF THIS RELEASE, ALL "MAJOR" COMPONENTS HAVE FRAMEWORKS IN PLACE.
AFTER THIS, ENHANCING FREEWRL WILL CONSIST OF FILLING OUT 
UNIMPLEMENTED BITS IN THE FRAMEWORK. I NEED HELP IN THIS; IF YOU
WANT TO GET TO FILL IN YOUR PIECE (and get mentioned in the CREDITS
file, the coolest place on the web ;), EMAIL ME!</P>
<P>- better way of doing trig stuff from Robin Williams
<BR>- make the 'v' and 'b' keys really *WORK* for changing viewpoints on fly
<BR>- make viewpoint orientation finally work (Thanks to John Breen
for telling me about it)
<BR>- make MFFloat and MFInt32 parsing handle the case "5 , 3 , 2"
correctly - thanks to Etienne Grossmann for noticing the bug
<BR>- new Extrusion code by Bernhard Reiter
<BR>- new option zpl=xx to set the farther z-buffer plane in case you 
want to view extremely large worlds
<BR>- first shot at Java EAI!
Most things still do not work but it's a start. We are communicating.
See java/eai/test.java for an example (it uses the VRML in eai/test2.wrl).
This is my second Java program, and the first one that
uses threads (the first java program was the Script interface ;).
Please comment if I'm doing anything wrong.
The second example (java/eai/test2.java, eai/test3.wrl) demonstrates
how to both receive & send events.
<BR>- Inlines should work again (oops ;)
<BR>- complain if url is bad
<BR>- PNG/PNG.xs *should* now work with perlapio as well....
<BR>- first shot at working navigationinfo, but I didn't have time to
test it yet...
Continuing compliance tests:
<BR>- fixed lineset & pointset coloring behaviour
<BR>- fixed unlit behaviour when no Material node present
<BR>- fixed SFNode, MFNode PROTO fields (we need lots of really devious tests!)</P>

<P><B>V0.12 </B></P>
					
<P>- EAI first attempt
<BR>- protocol only, no Java classes yet
<BR>- try it with "perl eai/t1.pl", which starts freewrl
and uses sockets to communicate the color change event.
<BR>- it works by giving a command-line argument "eai=host:port"
to connect into.
<BR>- sometimes the processes live after they should die - 
kill them explicitly if this happens
<BR>- clean up the JS verbosity a little..
<BR>- allow "url=..." command-line argument to freewrl for setting
the base url separate from file name (to allow use of inlines
from inside Netscape).
<BR>- fix sensors so that transformations won't affect dragging 
(NIST PlaneSensor test 2)
<BR>- fix examine viewer to take position given to it seriously
<BR>- make top-level sensors work
<BR>- fix x_changed and set_x names to work
<BR>- let images be scaled
<BR>- PNG support
<BR>- cache URLs when loading - same texture several times
<BR>- set next/previous viewpoint (use keys 'v', 'b')
<BR>- fixed texture mapping a bit

<P>NOTE: v0.11 is NOT PUBLICALLY ANNOUNCED and contains a lot of
unstable new stuff. Be careful with it. I'll follow with 0.12 soon.</P></P>


<P><B>V0.11</B></P> 
					
					<P>- Onset of promiscuity -- we can plugin to netscape!!!
<BR>- lots of new, not-thoroughly-tested features
<BR>- set window name to FreeWRL
<BR>- final changes to make it possible to run freewrl from another
directory - e.g. fonts so that we specify the font at startup and
"use blib" conditionalized. Including
FREEWRL_FONTS=... perl -Mblib=... freewrl "&#36;1"
into xswallow's dispatch-vrml did it! Yow! (remember to redirect
stdout and stderr to some file (e.g. /tmp/VRMLlog) to see what went
wrong - it's by no means foolproof and doesn't load even nearly all
files)
However, this is probably worth a screenshot!
If you try it, remember to Edit/Preferences/Netscape/Applications
in netscape to inform it that x-world/x-vrml is handled by the plugin.
(if you have problems, email me)
<BR>- plugging into netscape made me fix a variety of bugs because
I can browse worlds easier.
<BR>- rest of the Light nodes
<BR>- VisibilitySensor (very dumb but compliant - always visible)
<BR>- environment variable (I know, I should document them all in one place ;)
FREEWRL_SAVE to specify a directory to save all the files/urls in the
world (not the whole world, just the world you're looking at ;)
<BR>- fixed CoordinateInterpolator initial value
<BR>- fixed Interpolators initial state - no event to be sent.
<BR>- first try at ProximitySensor
<BR>- fixed SFInt32 parsing (oops)
<BR>- ElevationGrid: colors!
<BR>- TextureTransform (but not yet tested)
<BR>- render sky correctly when only one skycolor given
<BR>- Inlines work again</P>

<P>There is one big problem with the URLs: relative URLs don't work
from the </P>

<P><B>V0.10</B> - Yea!</P>
					
<P>- fixed YEQ, ZEQ tests for raycasting - sensors should be more
reliable now when the ray is parallel to some axis. Oops.
Thanks for Bernhard Reiter for the report.
<BR>- VRML::Field::Multi ISA VRML::Field -> MF* things in PROTOs now
work. Thanks to John Breen for the bug report and fix.
<BR>- actually included tests/10.wrl (oops ;) 
<BR>- viewpoint fixes galore - jump=TRUE viewpoints should now work
completely. jump=FALSE is more difficult but luckily less used.
Thanks to several people for bugging me about it ;)
<BR>- box touchsensor now works properly even when looking on the xz plane
<BR>- make an environment variable FREEWRL_NO_COLORMAP to prevent
creation of window's own colormap - thanks to William R. Ward
<BR>- more documentations / organizations in the source
<BR>- new Walk viewer from John Breen
<BR>- Events.pm: ToQueue so you can send events TO a node instead of just
from</P>

<P><B>V0.09</B> - bugs &amp; docs</P>
					
<P>- fixed a bad parser bug, reported by Bernhard Reiter.
now [1 1 1,2 2 2,3 3 3] works as it is supposed to.
<BR>- commented VRMLC.pm and VRMLRend.pm
<BR>- fixed prototypes & events -- now they should finally work
closer to the spec
<BR>- new demo: tests/10.wrl which was my challenge to myself to
improve the javascript api to include SFVec3f and SFRotation
functions.
<BR>- as a result, JavaScript api now has SFVec3f and SFRotation
methods ;)
<BR>- now viewers should get the shift / control status as extra
arguments - so the Descent mode is possible to do with mouse
(as requested by John Breen).
Didn't have time to improve the descent mode yet, though.</P>

<P><B>V0.08</B> - important details</P>
					
<P>- using libwww-perl for getting documents from over the web.
we can use general URLS, hurray!
Because of this, perl scripts are now disabled by default
because of security -- the code is completely trusted and
we don't want you to get http://evil.foo/rm-rf.wrl containing
a Perl script doing "system('rm -rf /'')".
<BR>- use gunzip to decompress gzipped content
<BR>- general ray code -- now IndexedFaceSet, ElevationGrid and even
Extrusions should work with TouchSensors
<BR>- "install" should now at least partially work. 
Changed all "require 'foo.pm'" to "require VRML/foo.pm"
<BR>- get_scene for the browser object -- now it is possible to
create scenes in Perl scripts:
<BR>"
<BR>use VRML::Browser;
<BR>$b = new VRML::Browser;
<BR>$s = $b->get_scene;
<BR>$nod1 = $b->new_node(Shape, {
<BR>geometry => $b->new_node(Box, { ... } ),
<BR>...
<BR>});
<BR>...
<BR>$s->topnodes([$nod1,$nod2,...]);
<BR>$b->eventloop;
<BR>"
<BR> so you can use scripts to generate scenes.
<BR>- then, use $scene->as_string to actually generate the VRML code
in ASCII.
<BR>- $backend->snapshot. See pt/* for samples
<BR>- Documentation
<BR>- Make the browser accept some faulty VRML (commas after field values)
<BR>- Some portability fixes from John Breen and Lupe Christoph
<BR>- fix IndexedFaceSet core dump if coordIndex doesn't end in -1
<BR>- some event fixes.</P>

<P><B>V0.07</B> - quick bug fixes</P>
<P>- parse: make the optimization for MFFloat and MFTime correct when
there are commas :(
<BR>- fix FontStyle defaults
<BR>- stabler quadratic solution from Robin Williams
<BR>- background works again -- we can't displaylist something that moves ;)
<BR>- better viewpoint implementation -- it still doesn't quite work
like the spec. </P>

<P><B>V0.06</B> - solidification:</P>
<P>- input of SFColor etc. to javascript
<BR>- output of floats etc. from javascript
<BR>- numerous other bugfixes for javascript...
<BR>- beginnings of the browser object in Perl
<BR>- add OpenGL includes/defines for other makefiles as well..
<BR>- Text should possibly be compatible with FreeType-1.1 now...
<BR>- Fly mode, with key controls a la Descent(TM)!! Press 'D'
when browsing and then use a,z and 789uiojklp; (the keys
that are the numpad on my laptop ;) to move. If someone
wants to send a patch to make the keys configurable, I'd be 
delighted ( I don't want to spend time on that right now, I 
have more important matters in this to do.. )
<BR>- much faster MFFloat parsing -- similar speedups for other fields
are just a matter of doing it..
<BR>- various speed improvements
<BR>- fixed use of display lists to actually work (blush)..</P>

<P><B>V0.05</B> - details...</P>
<P>- Switch
<BR>- LOD
<BR>- face culling -> double speedup sometimes
<BR>- DirectionalLight
<BR>- PlaneSensor
<BR>- SphereSensor
<BR>- better support for bindable nodes
<BR>- dummy Anchor ( == group )
<BR>- add many missing fields (as dummies) to nodes</P>

<P><B>V0.04</B></P>
<P>Quick release, due to notification from Thomas Dudziak that
I had missed important files from the .tar.gz file. Oops...
<BR>- Text!!!!!!! With FreeType library
<BR>- Background basics (skyColor, skyAngle)
<BR>- VRMLC -> VRMLC+VRMLRend - split to smaller files
<BR>- Bindable nodes -- see nodes/Background2.wrl for what works now</P>

<P><B>V0.03</B> "filling in some blanks"</P>
<P>- MFColor and other field types for javascript -- now able
to run VRML97 spec example D.14!!</P>


<P><B>V0.02</B> "some things about *most* features work"</P>
<P>THIS RELEASE IS ESPECIALLY UNSTABLE - LOTS OF CODE HAS BEEN ADDED 
AND LOTS OF NEW FEATURES ARE SEMI-IMPLEMENTED. THERE ARE PROOF-OF-PRINCIPLE
JAVA AND JAVASCRIPT SCRIPTS BUT MOST OF THOSE SCRIPTING INTERFACES
ARE STILL UNIMPLEMENTED. THE PROOF-OF-PRINCIPLE SCRIPTS CAN BE FOUND
IN THE DIRECTORY jt/.</P>

<P>THE BROWSER IS STILL FAR FROM SPEC COMPLIANCE -- A LOT NEEDS TO BE DONE.
IF YOU ARE NOT ABLE TO PROGRAM, DO NOT EXPECT TO BE ABLE TO USE THIS
BROWSER YET. THIS RELEASE IS PRIMARILY MADE TO ATTRACT POTENTIAL
DEVELOPERS TO HACK ON THE CODE.</P>

<P>WHAT EXTRA IS SUPPOSED TO WORK NOW</P>
<P>- simple scripting in complex languages (java,javascript)
(warning: this is very immature so far - it's my first ever java
program and I've only been at it for a couple of days. You have to
make a named pipes in the current directory with the name '.javapipep'
and '.javapipej', with the command "mknod .javapipep p" or the equivalent
on your system).
For javascript, you'll need to hack it to compile yourself - I'll
try to provide a better make system later.
<BR>- simple complex uses of simple sensor (touchsensor hitpoint,
although only for primitives yet (no indexedfaceset :(...))
This is by raycasting now, see VRMLC.pm
<BR>- simple textures: jpg only, and only 2**n * 2**n.
also, most texture mappings of nodes are not yet correct
<BR>- Extrusion, ElevationGrid
<BR>- Billboard
<BR>- Browser: die if file not openable
<BR>- Parser: accept ROUTE et al in more contexts 
<BR>- CoordinateInterpolator
<BR>- IndexedLineSet and PointSet
<BR>- Shape with appearance==NULL
<BR>- Color, Normal
<BR>- more fields for supported nodes
<BR>- Inline (preliminary)
<BR>- beautify tests/ a little</P>

					 <P>WHAT STILL DOES NOT WORK</P>
<P> - more complicated things of any particular kind:
<BR>- sensors
<BR>- extrusions which are collinear
<BR>- ...</P>

<P>SPECIFICALLY: FOR SCRIPTS IN JAVA/JAVASCRIPT:</P>
					
<P>Eventin floats work and eventout colors work, not much else.
Of course, this will be very easy to expand later (next version I hope
to have MFthings and everything except Nodes.</P>

<P>These scripting implementations are to be considered very preliminary and 
just proof-of-principles.</P>

<P>Especially the javascript interface is VERY UGLY. And contains
unfinished code.</P>

<P><B>V0.01</B> "some things work"</P>

 <P>WHAT IS SUPPOSED TO WORK</P>
<P>- simple primitives (box, cone, cylinder, sphere, indexedfaceset*)
<BR>- simple sensors (touchsensor, timesensor)
<BR>- simple languages (perl)
<BR>- simple nodes (scalarinterpolator,...)
<BR>- simple structures (PROTO, USE/DEF)</P>

 <P>WHAT IS NOT YET IMPLEMENTED</P>
<P>- complex geometries (elevationgrid, extrusion)
<BR>- complex sensors (cylindersensor etc)
<BR>- complex languages (java, javascript)
<BR>- complex nodes (switch, lod...)
<BR>- complex structures (anchor, externproto...)</P>

<P>(* indexedfaceset only partly implemented)</P>
