<TITLE>FreeWRL - Install</TITLE>

<P>&#35;Copyright (C) 1998 Tuomas J. Lukka, 2001 John Stewart, CRC Canada.  

<BR>&#35;DISTRIBUTED WITH NO WARRANTY, EXPRESS OR IMPLIED.

<BR>&#35;See the GNU Library General Public License (file COPYING in the distribution)

<BR>&#35;for conditions of use and redistribution, EXCEPT on the files  

<BR>&#35;which belong under the mozilla public license. 

<H2>
Install Introduction
</H2>
The complexity of the install depends on what packages you have installed
with your system, and what packages may have been installed later.
Most installs are very simple.
<P>
I have tested the FreeWRL build on brand new installs of:
<P>
<LIST>
<LI><B>SuSe 7.1</B> FTP'd on March 30-31 2001
<LI><B>TurboLinux</B> Workstation 4.0.5.SMC Tues Oct 19, 1999
<LI><B>Mandrake 7.2</B> from ISO CD images
<LI><B>Redhat 7.1</B> "SeaWolf" final release
</LIST>
<P>Others have tested FreeWRL on:
<LIST>
<LI><B>SGI Onyx II</B>
<LI><B>FreeBSD</B>
</LIST>
<P>
<B>
NOTE:
</B> when build options were presented, I chose 
the "Development Workstation" options - you may <B>not</B> have to do one
or two of the steps outlined below if you install everything.
Comments/help/Additional build notes more than welcome.

<P>This install is divided up into the following sections:<P> 
<LIST>
<LI>Building FreeWRL to run &quot;standalone&quot;, without Netscape.
<LI>Installing Java support.
<LI>Getting it all to work with Netscape.
<LI>Getting it to work with the Polhemus Fastrak 3d, or a Joystick.
</LIST>

<P>
<BR>(updated 13 August 2001 - <A HREF="mailto:ayla@users.sourceforge.net">ayla@users.sourceforge.net</A>)
<BR>(updated 03 August  2001 - <A HREF="mailto:john.stewart@crc.ca">john.stewart@crc.ca</A>)
<BR>(updated 07 June  2001 - <A HREF="mailto:john.stewart@crc.ca">john.stewart@crc.ca</A>)
<BR>(updated 08 May 2001 - <A HREF="mailto:john.stewart@crc.ca">john.stewart@crc.ca</A>)

<H3>
Building FreeWRL as a standalone executable
</H3>

<P><B>Notes:</B> All files are available here:</P>

<LIST>
<P>- <A HREF="/en/html/FreeWRL/downloads/downloads">http://www.crc.ca/en/html/FreeWRL/downloads/downloads</A>

<BR>- <A HREF="http://sourceforge.net/projects/freewrl/">http://sourceforge.net/projects/freewrl/</A>
</LIST>
<P>
You can also access the cvs repository. The way to do it is explained at:

<BR>- <A HREF="http://sourceforge.net/cvs/?group_id=9120">http://sourceforge.net/cvs/?group_id=9120</A>

<H4>
1. OpenGL (usually Mesa)
</H4>
<P>
<LIST>
<LI><B> TurboLinux:</B> nothing needed
<LI><B> Suse 7.1:</B> rpm -Uvh mesadev.rpm from disk x3d2.
<LI><B> Mandrake 7.2:</B> Had to install mesa from 
<A HREF="http://www.mesa3d.org">http://www.mesa3d.org</A>
to get all include files.
<LI><B> Redhat 7.1:</B> nothing needed
<LI><B> General:</B> Usually, Mesa is included in newer distributions. If not
installed it is on the distribution disks, or available from
<A HREF="http://www.mesa3d.org">http://www.mesa3d.org</A>
</LIST>
<H4>
2. Hardware accelleration
</H4>

<P>
If you have a Linux compatible 3D accel. card, then
simply install it, and follow the directions from the
manufacturer.
<P><B>NOTE:</B>Voodoo3 cards, now obsolete, have the following problems with
Redhat 7.1, and possibly other releases:
<P>
<LIST>
<LI>OpenGL segfaults. This is not particularly related to FreeWRL. To get
around this, comment out the 'Load "glx"' line of /etc/X11/XF86Config-4, and restart X.
<LI>Texture Transforms are not correct. Rotations and Scaling will not work.
<LI>Sometimes textures get mixed up. (eg, one texture replaces another)
</LIST>
<P>
<H4>
3. FreeWRL Build and Installation
</H4>
<LIST>
<LI><B>TurboLinux:</B>    
<OL>
<LI>Perform step 1 in the "General" section below.
<LI>Step 2: change the references in vrml.conf from: "-lGL -lGLU" To:
"-lMesaGL -lMesaGLU"
<LI>Perform steps 6, 7 and 9.
</OL>
<P>
<LI><B>Suse 7.1:</B>      
<P>Perform steps 1, 4, 5, 6, 7 and 9 in the "General" section below.
<P>
<LI><B>Mandrake 7.2:</B>
<P>
This install was quite complex. 
<OL> 
<LI>get the latest stable perl release from
<A HREF="http://www.perl.com">http://www.perl.com</A>
and build it.
<P>
<LI> install, from the "inst" CD:
<BR>make-3.79.1-5mdk.i586.rpm
<BR>binutils-2.10.0.24-4mdk.i586.rpm
<BR>kernel-headers-2.2.17-21mdk.i586.rpm
<BR>glibc-devel-2.1.3-16mdk.i586.rpm
<BR>gcc-2.95.2-12mdk.i586.rpm
<BR>libjpeg-devel-6b-15mdk.i586.rpm
<BR>XFree86-devel-4.0.1-28mdk.i586.rpm
<BR>libpng-devel-1.0.8-2mdk.i586.rpm
<BR>zlib-devel-1.1.3-11mdk.i586.rpm
<P>
<LI> do steps do all the steps, except 8, below.
</OL>
<P>
<LI><B>Redhat 7.1:</B>
Perform steps 1, 4, 6, 7, 9.
<P>
<LI><B>General:</B>
</LIST>
<OL>

<LI>Grab the latest FreeWRL tar file, and untar it.
<P>
<LI>Verify that the vrml.conf 
file has good paths for the libraries and includes.
<P>
<LI>Install FreeType from the distribution CDs, or from
<A HREF="http://freetype.sourceforge.net">http://freetype.sourceforge.net</A>
<P>
<LI>Install Perl Modules:<BR>    

<P>Digest-MD5-2.09
<BR>HTML-Parser-2.25        
<BR>MIME-Base64-2.11
<BR>URI-1.04
<BR>libnet-1.0607
<BR>libwww-perl-5.47
<BR>Image-Base-1.07</P>

<P>Installing these modules is a no-brainer; just untar     
each module, then go into the directory, and 
<BR>perl Makefile.PL
<BR>make
<BR>make test (if applicable)
<BR>make install (as superuser)
</P>

Note that libwww-perl will most likely ask you if you want to reconfigure - I always just select the default.
<P>
<LI>ImageMagick is required for some conversions of graphics
files. The "convert" utility is used; this <B>should</B> now be
installed with any graphical Linux distribution. If you
can't find it, you can always download it from
<A HREF="http://www.imagemagick.org">http://www.imagemagick.org</A>
<P>
<LI>Make the Make file

<P>perl Makefile.PL</P>

<LI>Build/install FreeWRL
<P>make
<BR>make install (as superuser)
</P>
<P>
<LI>Experimental SAI interface

You only need to do this if you wish to debug the SAI code.
<P> - mknod.javapipej p
<BR> - mknod.javapipep p</P>

<LI>Run the numbered tests.

<P>
There are quite a few tests in the "tests" directory.
<P>Run all of the numbered files (and any others that you want!) in the tests
directory. Note that some use javascript, so you will be testing javascript, too.</P>


</OL>
<h4>
3.0 Installing Java support
</H4>

<P><B>3.1)</B> Javascript:</P>
<P>
In the basic install, you should have installed the java support to allow some of the
test programs in the tests directory to work. (eg, 7.wrl, 8.wrl, and 10.wrl)
<P>
If these programs don't run, then go back and make FreeWRL it so that it does work.
<P><B>3.2)</B> EAIcode:</P>
<P>
<B>NOTE:</B> This is in active development, so may not work. 
<P>
The EAI classes have been gathered into the Java archive vrml.jar. A java.policy
file is used to handle EAI code access to the local filesystem and sockets.
<P>
<LIST>
<LI>cd into the tests/AddRemove directory in the build tree.
<LI>Read the README file in there to see what the latest commands are
<LI>Send a case of beer to the developers, for their outstanding work.
</LIST>

<P>
<B>DEVELOPER'S NOTE:</B> EAI java classes can be compiled using the Perl generated Makefiles.
<BR>Do not delete the vrml.jar file.
It needs to be in the Java compiler classpath, and will be updated whenever an EAI java file
is compiled.

<P><B>3.2)</B> SAIcode:</P>
<p>
<B>NOTE:</B> This is in active development, so may not work. 
<P>
<LIST>
<LI>cd into the tests/SAIClick directory in the build tree.
<LI>Read the README file in there to see what the latest commands are
</LIST>


<P><B>4) Getting it all to work with Netscape.</B></P>

<P><B>4.1)</B> Follow the
<A HREF="Plugin/readme.html">instructions</A> in the Plugin readme file.</P>
<P>
If FreeWRL was built correctly, then the Netscape Plugin was
installed in Netscape's system plugins directory.</P>
<P>
<P><B>5) X3D compatibility.</B></P>

<P><B>5.1)</B> Go to the x3d directory, and follow the

<A HREF="x3d/readme.html">instructions</A>.</P>
<P>
<P><B>6) Getting it to work with external sensors.</B></P>
<P>
<B>6.1)</B> CRC's "Flying Chair".
<P>
This chair can be seen in the "links" section. The code to 
run this chair is freely available, at:
<A HREF="http://sourceforge.net/projects/mvip/">
http://sourceforge.net/projects/mvip/</A>
<P>

<B>6.2)</B> Thrustmaster style Joystick 
<P>
The 2-D joystick interface is available at: 
<A HREF="/html/FreeWRL/downloads/joystick/Joystick-1.0.tar.gz">http://www.crc.ca/FreeWRL/download/joystick/Joystick-1.0.tar.gz</A>, and the 3D joystick
interface is available as part of the chair code, as outlined above.

<P><B>6.3)</B> Data Glove.</P>
<P>
This interface is being actively worked on.
<P>
<P><B>6.4)</B> Spaceball 3D positioning mouse.</P>
<P>
This interface is being actively worked on.
<P>
<P><B>6.4)</B> Touchscreens.</P>
<P>
One of our FreeWRL users has made a very interesting touchscreen
interface to FreeWRL. This code will be incorporated into FreeWRL
when it is complete.
<P>
<P><B>6.6)</B> Polhemus/Virtual Research goggles with position sensor.</P>
This works very well with the "Flying Chair" mentioned above, but if you 
wish to run this alone, without joystick (and chair!), here are the
directions:
<P><B>6.6.1)</B> Polhemus Position Sensor.</P>  

<P> - Untar and compile the code in the Polhemus 1.0. tarfile. 
<BR>- run minicom (with modem in it strings set to null) and see if you can get any input.  
<BR> - align the Fastrak. I use the A0 command, as found in      the manual, to do the allignment. (&quot;Enhanced Allignment Procedure, pg 48a of my manual-Sept 1998)</P>        

<P>eg:
<BR>(in minicom)
<BR>A0
<BR>P
<BR>(now, move the sensor 24&quot; in positive X axis)
<BR>P
<BR>(now, move the sensor 24&quot; in positive Y axis)
<BR>P
<BR>Exit minicom</P>


<P> - run the program Polhemus/termite to get the polhemus interface   code working. Note - headset should be pointed at where you want &quot;front&quot; to be.</P>


<P><B>6.6.2)</B> Virtual Research goggles
<P> An option has been added to FreeWRL to run in full screen mode just for these goggles. Start FreeWRL with the "-fullscreen" option; eg:
<P>
freewrl tests/1.wrl -best -fullscreen -geometry 640x480

